<main>
  <div class="container">
    <div class="row pt-5 text-center">
      <div class="col-md-12">
        <input class="form-control mr-sm-2" type="text" placeholder="Search by Job title" (input)="getJobSearch($event)" aria-label="Search">
      </div>
    </div>
    <div class="row pt-3" *ngIf="data">
      <div class="col-md-5 p-1">
        <div class="list-group">
          <a *ngFor="let j of data; index as i" (click)="openJob(i)"
            class="list-group-item list-group-item-action flex-column align-items-start">
            <div class="d-flex w-100 justify-content-between">
              <h3 class="mb-1"><strong>{{j.title}}</strong></h3>
              <small>{{(j.updated_at.length>10)? (j.updated_at |
                slice:0:10):(j.updated_at)}}</small>
            </div>
            <h5>{{j.company_name}} - {{j.state}}</h5>
            <h5>RM {{j.budget}} - {{j.position_type}}</h5>
            <p class="mb-1">{{ (j.desc.length>100)? (j.desc | slice:0:100)+'......':(j.desc) }}</p>
          </a>
        </div>
      </div>
      <div class="col-md-7 p-1" *ngIf="hide">
        <div class="list-group list-group-item flex-column align-items-start">
          <div class="d-flex w-100 justify-content-between">
            <h3 class="mb-1"><strong>{{this.title}} - {{this.category}}</strong></h3>
            <small>{{(this.updated_at.length>10)? (this.updated_at |
              slice:0:10):(this.updated_at)}}</small>
          </div>
          <h5>{{this.company_name}} - {{this.state}}</h5>
          <h5>RM {{this.budget}} - {{this.position_type}}</h5>
          <p class="mb-1">{{this.desc}}</p>
          <div class="text-right">
            <mdb-icon class="pointer" fas icon="heart" size="2x" *ngIf="auth.isLoggedIn()" (click)="addfejob()"></mdb-icon>
          </div>
          <button type="button" class="btn btn-outline-secondary btn-sm" *ngIf="auth.isLoggedIn()"
            (click)="apply()">Apply</button>
          <button type="button" class="btn btn-outline-secondary btn-sm" routerLink="/job/{{this.id}}">View</button>
        </div>
      </div>
    </div>
    <!--                                                                                         -->
    <div class="row pt-3" *ngIf="!data">
      <div class="col-md-5 p-1">
        <div class="list-group">
          <a *ngFor="let j of eJob; index as i" (click)="openJob(i)"
            class="list-group-item list-group-item-action flex-column align-items-start">
            <div class="d-flex w-100 justify-content-between">
              <h3 class="mb-1"><strong>{{eJob[i]?.title}}</strong></h3>
              <small>{{(eJob[i]?.updated_at.length>10)? (eJob[i]?.updated_at |
                slice:0:10):(eJob[i]?.updated_at)}}</small>
            </div>
            <h5>{{eJob[i]?.company_name}} - {{eJob[i]?.state}}</h5>
            <h5>RM {{eJob[i]?.budget}} - {{eJob[i]?.position_type}}</h5>
            <p class="mb-1">{{ (eJob[i]?.desc.length>100)? (eJob[i]?.desc | slice:0:100)+'......':(eJob[i]?.desc) }}</p>
          </a>
        </div>
      </div>
      <div class="col-md-7 p-1" *ngIf="hide">
        <div class="list-group list-group-item flex-column align-items-start">
          <div class="d-flex w-100 justify-content-between">
            <h3 class="mb-1"><strong>{{this.title}} - {{this.category}}</strong></h3>
            <small>{{(this.updated_at.length>10)? (this.updated_at |
              slice:0:10):(this.updated_at)}}</small>
          </div>
          <h5>{{this.company_name}} - {{this.state}}</h5>
          <h5>RM {{this.budget}} - {{this.position_type}}</h5>
          <p class="mb-1">{{this.desc}}</p>
          <div class="text-right">
            <mdb-icon class="pointer" fas icon="heart" size="2x" *ngIf="auth.isLoggedIn()" (click)="addfejob()"></mdb-icon>
          </div>
          <button type="button" class="btn btn-outline-secondary btn-sm" *ngIf="auth.isLoggedIn()"
            (click)="apply()">Apply</button>
          <button type="button" class="btn btn-outline-secondary btn-sm" routerLink="/job/{{this.id}}">View</button>
        </div>
      </div>
    </div>
  </div>
</main>